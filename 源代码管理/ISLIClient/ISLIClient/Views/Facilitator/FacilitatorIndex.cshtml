
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>用户管理</title>
    <link href="~/css/x-admin.css" rel="stylesheet" />
    <link href="~/css/pag.css" rel="stylesheet" />
    <script src="~/js/jquery-1.11.0.min.js"></script>
    <script src="~/Vue/axios.js"></script>
    <script src="~/Vue/vue.js"></script>
</head>
<body>
    <div class="x-nav">
        <span class="layui-breadcrumb">
            <a><cite>首页</cite></a>
            <a><cite>档案管理</cite></a>
        </span>
        <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
            <i class="layui-icon" style="line-height:30px">ဂ</i>
        </a>
    </div>
    <div class="x-body" id="app">
        <form class="layui-form x-center" action="" style="width:85%">
            <div class="layui-form-pane">
                <div class="layui-form-item">
                    <label class="layui-form-label">ISLI编码</label>
                    <div class="layui-input-inline" style="width:100px">
                        <input type="text" name="name" placeholder="ISLI编码" autocomplete="off" class="layui-input" v-model="isliCode">
                    </div>
                    <label class="layui-form-label">目标名称</label>
                    <div class="layui-input-inline" style="width:100px">
                        <input type="text" name="name" placeholder="目标名称" autocomplete="off" class="layui-input" v-model="sourceName">
                    </div>
                    <label class="layui-form-label">分配时间</label>
                    <div class="layui-input-inline" style="width:150px">
                        <input type="text" name="name" placeholder="分配时间" autocomplete="off" class="layui-input" v-model="allocationTime">
                    </div>
                    <div class="layui-input-inline" style="width:80px">
                        <button class="layui-btn" lay-submit="" lay-filter="*">搜索</button>
                    </div>
                </div>
            </div>
        </form>
        <table class="tablelist">
            <thead>
                <tr>
                    <th>序号</th>
                    <th> ISLI编码 </th>
                    <th> 源名称</th>
                    <th> 目标名称</th>
                    <th> 分配时间</th>
                    <th> 操作 </th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="item in info" v-bind:key="item.id">
                    <td> {{item.id}}</td>
                    <td> {{item.isliCode}}</td>
                    <td> {{item.sourceName}}</td>
                    <td> {{item.sourceFragment}}</td>
                    <td> {{item.allocationTime}}</td>
                    <td class="td-manage">
                        <a title="处理" href="javascript;" v-on:onclick="data_management_look('查看','LookInfo.cshtml','item.Id','40','','510')"
                           class="ml-5" style="text-decoration:none"><i class="layui-icon">&#xe642;</i></a>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="page">
            <div class="pagelist">
                <span class="jump">上一页</span> <span class="jump">1</span> <span class="jump">2</span> <span class="jump">3</span> <span class="jump">4</span> <span class="jump">5</span> <span class="jump">6</span> <span class="ellipsis">...</span> <span class="jump">下一页</span> <span class="jumppoint">跳转到：</span> <span class="jumpinp">
                    <input type="text">
                </span> <span class="jump gobtn">GO</span>
            </div>
        </div>
    </div>
    <br />
    <br />
    <br />
    <script src="~/lib/layui/layui.js"></script>
    <script src="~/js/x-layui.js"></script>
    <script src="~/js/js.js"></script>
    <script src="~/js/jquery2.js"></script>
    <script>
        layui.use(['element', 'laypage', 'layer', 'form'], function () {
            $ = layui.jquery;//jquery
            lement = layui.element();//面包导航
            laypage = layui.laypage;//分页
            layer = layui.layer;//弹出层
            form = layui.form();//弹出层
        });
        // 编辑
        function data_management_look(title, url, id, w, h) {
            x_admin_show(title, url, w, h);
        }
    </script>
    <script type="text/javascript">
        $('.tablelist tbody tr:odd').addClass('odd');
        var app = new Vue({
            el: '#app',
            data: {
                info: null,
                isliCode: '' 
            },
            mounted: function () {
                var that = this;
                axios({
                    method: "get",
                    url: "/Facilitator/GetList"
                })
                    .then(function (res) {
                        that.info = res.data;
                    })
            },
            methods: {
                look: function (res) {
                    var that = this;
                    axios({
                        method: "get",
                        url: "/Facilitator/LookInfo?Id=" + res,
                    })
                        .then(function (res) {
                            that.info = res.data;
                        })
                }
            }
        })
    </script>
</body>
</html>